const fs = require('fs')
const path = require('path')

const extractSvgPath = require('extract-svg-path')
const _ = require('lodash')

const paths = {}
fs.readdirSync(__dirname).filter(f => f.endsWith('.svg')).forEach(file => {
  console.log(file)
  const d = extractSvgPath(path.join(__dirname, file))
  // split the single paths
  const ds = d.split('M').slice(1).map(s => `M${s.trim()}`)
  const name = _.camelCase(file.split('.')[0])
  paths[name] = ds
})

const fileContent = `// AUTOGENERATED FILE, DO NOT MODIFY
// run extractPaths to generate
// tslint:disable

export default ${JSON.stringify(paths, null, 2)}`

fs.writeFile(path.join(__dirname, `index.ts`), fileContent)
